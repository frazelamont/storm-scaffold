!function(t,e){var s={exports:{}};"undefined"!=typeof exports?(s.exports=exports,e(s.exports),module.exports=s.exports.default):(e(s.exports),t.Tabs=s.exports.default)}(this,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={titleClass:".js-tabs__link",currentClass:"active",active:0},n=32,r=13,a=37,l=39,u=40,o={init:function(){var s=this,i=location.hash.slice(1)||!1;return this.tabs=[].slice.call(this.DOMElement.querySelectorAll(this.settings.titleClass)),this.panels=this.tabs.map(function(t){return document.getElementById(t.getAttribute("href").substr(1))||console.error("Tab target not found")}),this.tabs.length&&this.tabs[0].parentNode.setAttribute("role","tablist"),this.current=this.settings.active,!1!==i&&this.panels.forEach(function(t,e){t.getAttribute("id")===i&&(s.current=e)}),this.initAttributes().initTabs().open(this.current),this},initAttributes:function(){var s=this;return this.tabs.forEach(function(t,e){t.setAttribute("role","tab"),t.setAttribute("aria-selected",!1),s.panels[e].setAttribute("aria-labelledby",t.getAttribute("id")),t.setAttribute("tabindex","-1"),s.panels[e].setAttribute("role","tabpanel"),s.panels[e].setAttribute("hidden","hidden"),s.panels[e].setAttribute("tabindex","-1"),s.panels[e].firstElementChild&&!s.panels[e].firstElementChild.hasAttribute("tabindex")&&s.panels[e].firstElementChild.setAttribute("tabindex","-1")}),this},initTabs:function(){var s=this,i=function(t){s.toggle(t),window.setTimeout(function(){s.tabs[s.current].focus()},16)};return this.tabs.forEach(function(t,e){t.addEventListener("keydown",function(t){switch(t.keyCode){case a:i.call(s,0===s.current?s.tabs.length-1:s.current-1);break;case u:t.preventDefault(),t.stopPropagation(),s.panels[e].focus();break;case l:i.call(s,s.current===s.tabs.length-1?0:s.current+1);break;case r:i.call(s,e);break;case n:t.preventDefault(),i.call(s,e)}}),t.addEventListener("click",function(t){t.preventDefault(),i.call(s,e)},!1)}),this},change:function(t,e){this.tabs[e].classList["open"===t?"add":"remove"](this.settings.currentClass),this.panels[e].classList["open"===t?"add":"remove"](this.settings.currentClass),"open"===t?this.panels[e].removeAttribute("hidden"):this.panels[e].setAttribute("hidden","hidden"),this.tabs[e].setAttribute("aria-selected","true"===this.tabs[e].getAttribute("aria-selected")?"false":"true"),("open"===t?this.tabs[e]:this.tabs[this.current]).setAttribute("tabindex","open"===t?"0":"-1"),("open"===t?this.panels[e]:this.panels[this.current]).setAttribute("tabindex","open"===t?"0":"-1")},open:function(t){return this.change("open",t),this.current=t,this},close:function(t){return this.change("close",t),this},toggle:function(t){if(this.current!==t)return window.history&&window.history.pushState({URL:this.tabs[t].getAttribute("href")},"",this.tabs[t].getAttribute("href")),null===this.current?this.open(t):this.close(this.current).open(t),this}},e={init:function(t,e){var s=[].slice.call(document.querySelectorAll(t));if(!s.length)throw new Error("Tabs cannot be initialised, no augmentable elements found");return s.map(function(t){return Object.assign(Object.create(o),{DOMElement:t,settings:Object.assign({},i,t.dataset,e)}).init()})}};t.default=e});